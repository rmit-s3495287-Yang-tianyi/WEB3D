<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Assignment 1</title>
<link rel="stylesheet" type="text/css" href="../x3dom/x3dom.css"/>
<script type="text/javascript" src="../x3dom/x3dom.js">
    </script>
<style type="text/css">
body {
	background-color: gray;
}
</style>
</head>
<body>
<h1>Assignment 1</h1>
<X3D xmlns="http://www.web3d.org/specifications/x3d-namespace" width="400px" height="400px">
  <!-- 水面 -->
  <Scene>
    <Shape>
      <IndexedFaceSet solid='false' coordIndex='0 1 2 3 -1 4 5 6 7 -1 0 1 5 4 -1 1 2 6 5 -1 2 3 7 6 -1 0 3 7 4 -1'>
        <Coordinate point=' -7 -1 -3,
			7 -1 -3,
			7 -1 3,
			-7 -1 3，
     -7 -2 -3，
     7 -2 -3，
     7 -2 3，
     -7 -2 3'/>
      </IndexedFaceSet>
      <Appearance>
        <Material diffuseColor ='0 0 1' transparency='0.5'/>
      </Appearance>
    </Shape>
    <!-- Axis -->
    <Transform  translation='0 -1 -4'>
      <Shape DEF="line">
        <IndexedLineSet
      coordIndex=" 0 1 -1 0 2 -1 0 3 -1"
      colorPerVertex="true"
      colorIndex="0 0 -1 1 1 -1 2 2 -1">
          <Coordinate point="0 0 0, 1 0 0, 0 1 0, 0 0 1"/>
          <Color color="1 0 0, 0 1 0, 0 0 1"/>
        </IndexedLineSet>
      </Shape>
    </Transform>
    <!-- 身体 -->
    <Transform DEF="body">
     	 <TouchSensor DEF='StartStop'/>
      <Shape>

        <Appearance>
          <ImageTexture url='./penta.png'/>
        </Appearance>
        <IndexedFaceSet solid='false' coordIndex='0 1 2 -1 0 2 3 -1 0 3 4 -1 0 4 5 -1 0 1 5 -1 6 1 2 -1 6 2 3 -1 6 3 4 -1 6 4 5 -1 6 1 5 -1' >
          <Coordinate point=' 0 0.5 0,
			0.8 0 -0.58,
			0.8 0 0.58,
			-0.3 0 0.95，
			-1 0 0，
			-0.3 0 -0.95，
			0 -0.5 0'/>

       <TextureCoordinate point='0.5 0.5, 1 0.2, 1 0.8, 0.4 1, 0 0.5, 0.4 0, 0.5 0.5'/>
        </IndexedFaceSet>

      </Shape>
      <Shape USE="line"></Shape>
      <!-- 头 -->
      <Transform  translation='0.8 0 0'>
        <Shape DEF="head">
          <IndexedFaceSet solid='false' coordIndex='0 1 2 -1 0 2 3 -1 0 3 4 -1 0 4 1 -1 1 2 3 4 -1 '>
            <Coordinate point=' 0.5 0.25 0,
        0.5 0 -0.25,
        1 0 0,
        0.5 0 0.25,
        0 0 0'/>
          </IndexedFaceSet>
          <Appearance>
            <Material diffuseColor ='0 1 0'/>
          </Appearance>
        </Shape>

        <!-- 下颚 -->
        <Transform  rotation='1 0 0 3.15'>
          <Transform DEF="mouse" rotation='0 0 1 0.3'>
            <Shape USE="head"></Shape>
            <Transform  rotation='1 0 0 -3.15' >
              <Shape USE="line"></Shape>
            </Transform>
          </Transform>
        </Transform>
        <!-- 右眼 -->
        <Transform scale='0.1 0.1 0.1' translation='0.7 0 0.2'>
          <Shape DEF='eye'>
            <Sphere/>
            <Appearance>
              <Material diffuseColor ='0 0 0'/>
            </Appearance>
          </Shape>
        </Transform>
        <!-- 左眼 -->
        <Transform scale='0.1 0.1 0.1' translation='0.7 0 -0.2'>
          <Shape USE="eye"></Shape>
        </Transform>
      </Transform>

      <!-- 右前肢 -->
      <Transform DEF="RArm" rotation='0 0 1 -1.575' translation='0.8 0 0.58'>
        <Shape DEF="Octahedron">
          <IndexedFaceSet solid='false' coordIndex='0 1 2 -1 0 2 3 -1 0 3 4 -1 0 4 1 -1 5 1 2 -1 5 2 3 -1 5 3 4 -1 5 4 1 -1 '>
            <Coordinate point=' 0.5 0.25 0,
        0.5 0 -0.25,
        1 0 0,
        0.5 0 0.25,
        0 0 0,
         0.5 -0.25 0'/>
          </IndexedFaceSet>
          <Appearance>
            <Material diffuseColor ='0 1 0'/>
          </Appearance>
        </Shape>
        <Shape USE="line"></Shape>
        <!-- 左前肢 -->
        <Transform translation='0 0 -1.16'>
          <Shape USE="Octahedron"></Shape>
          <Shape USE="line"></Shape>
          <!-- 左前臂 -->
          <Transform DEF="LArm" rotation='0 0 1 1.575' translation='1 0 0'>
            <Shape USE="Octahedron"></Shape>
            <Shape USE="line"></Shape>
            <!-- 左前脚-->
            <Transform DEF="LToes" translation='1 0 0'>
              <Shape DEF="toes">
                <IndexedFaceSet solid='false' coordIndex='0 1 2 -1'>
                  <Coordinate point=' 0 0 0,
            0.5 0 -0.25,
            0.5 0 0.25'/>
                </IndexedFaceSet>
                <Appearance>
                  <Material diffuseColor ='0 1 0'/>
                </Appearance>
              </Shape>
              <Shape USE="line"></Shape>
              <!-- 右前脚 -->
              <Transform  translation='0 0 1.16'>
                <Shape USE="toes"> </Shape>
                <Shape USE="line"></Shape>
              </Transform>
            </Transform>

            <!-- 右前臂 -->
            <Transform  translation='0 0 1.16'>
              <Shape USE="Octahedron"></Shape>
              <Shape USE="line"></Shape>
            </Transform>
          </Transform>
        </Transform>
      </Transform>

      <!--HIP! -->
      <!--RL HIP-->
      <Transform  rotation='0 1 0 1.575' translation='-1 0 0'>
      <Transform DEF='RLHIP'>
        <Shape USE="Octahedron"></Shape>
        <Shape USE="line"></Shape>
        <!-- alter angle "2.214"-->
        <Transform rotation='0 0 1 -2.214' translation='1 0 0'>
        <Transform DEF="RLKnee" >
          <Shape USE="Octahedron"></Shape>
          <Shape USE="line"></Shape>


          <Transform rotation='0 0 -1 -2.214' translation='1 0 0'>
            <Transform DEF="RLFoot">
            <Shape USE="Octahedron"></Shape>
            <Shape USE="line"></Shape>
            <Transform rotation='0 1 0 -1.575' translation='1 0 0'>
              <Transform DEF="RLToe">
              <Shape USE="toes"></Shape>
              <Shape USE="line"></Shape>
              </Transform>
            </Transform>
          </Transform>
        </Transform>

        </Transform>
      </Transform>
    </Transform>
    </Transform>

      <!-- RR HIP-->
      <Transform rotation='0 1 0 -1.575' translation='-1 0 0'>
        <Transform DEF='RRHIP'>
        <Shape USE="Octahedron"></Shape>
        <Shape USE="line"></Shape>
        <!-- alter angle "2.214"-->
        <Transform rotation='0 0 1 -2.214' translation='1 0 0'>
          <Transform DEF="RRKnee" >
          <Shape USE="Octahedron"></Shape>
          <Shape USE="line"></Shape>


          <Transform rotation='0 0 -1 -2.214' translation='1 0 0'>
            <Transform DEF="RRFoot">
            <Shape USE="Octahedron"></Shape>
            <Shape USE="line"></Shape>


            <Transform rotation='0 1 0 1.575' translation='1 0 0'>
              <Transform DEF="RRToe">
              <Shape USE="toes"></Shape>
              <Shape USE="line"></Shape>
            </Transform>
          </Transform>
        </Transform>
      </Transform>
    </Transform>
  </Transform>

  </Transform>
  </Transform>
    </Transform>

    <TimeSensor DEF = "TimerOflegs" cycleInterval = '5' loop = "true" enabled="false"/>
    <OrientationInterpolator
  DEF = "InterOfleg"
  key = '0 0.25 0.5 0.75 1'
  keyValue = '0 -1 1 0,0 -1 1 -1,0 -1 1 -1,0 -1 1 -1,0 -1 1 0'
/>
    <ROUTE
  fromNode = "TimerOflegs"
  fromField = "fraction_changed"
  toNode = "InterOfleg"
  toField = "set_fraction"
 />
    <ROUTE
  fromNode = "InterOfleg"
  fromField = "value_changed"
  toNode = "RLHIP"
  toField = "set_rotation"
 />


 <OrientationInterpolator
DEF = "InterOfleg2"
key = '0 0.25 0.5 0.75 1'
keyValue = '0 1 1 0, 0 1 1 -1, 0 1 1 -1, 0 1 1 -1, 0 1 1 0'
/>
 <ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfleg2"
toField = "set_fraction"
/>
 <ROUTE
fromNode = "InterOfleg2"
fromField = "value_changed"
toNode = "RRHIP"
toField = "set_rotation"
/>


 <OrientationInterpolator
DEF = "InterOfKnee"
key = '0 0.25 0.5 0.75 1'
keyValue = '0 0 1 0,0 0 1 1.57,0 0 1 1.57,0 0 1 1.57,0 0 1 0'
/>
 <ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfKnee"
toField = "set_fraction"
/>
 <ROUTE
fromNode = "InterOfKnee"
fromField = "value_changed"
toNode = "RLKnee"
toField = "set_rotation"
/>

<OrientationInterpolator
DEF = "InterOfKnee2"
key = '0 0.25 0.5 0.75 1'
keyValue = '0 0 1 0,0 0 1 1.57,0 0 1 1.57,0 0 1 1.57,0 0 1 0'
/>
<ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfKnee2"
toField = "set_fraction"
/>
<ROUTE
fromNode = "InterOfKnee2"
fromField = "value_changed"
toNode = "RRKnee"
toField = "set_rotation"
/>



<OrientationInterpolator
DEF = "InterOfFoot"
key = '0 0.25 0.5 0.75 1'
keyValue = '0 0 1 0,0 0 1 -1.57,0 0 1 -1.57,0 0 1 -1.57,0 0 1 0'
/>
<ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfFoot"
toField = "set_fraction"
/>
<ROUTE
fromNode = "InterOfFoot"
fromField = "value_changed"
toNode = "RLFoot"
toField = "set_rotation"
/>
<OrientationInterpolator
DEF = "InterOfFoot2"
key = '0 0.25 0.5 0.75 1'
keyValue = '0 0 1 0,0 0 1 -1.57,0 0 1 -1.57,0 0 1 -1.57,0 0 1 0'
/>
<ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfFoot2"
toField = "set_fraction"
/>
<ROUTE
fromNode = "InterOfFoot2"
fromField = "value_changed"
toNode = "RRFoot"
toField = "set_rotation"
/>

<OrientationInterpolator
DEF = "InterOfToe"
key = '0 0.25 0.5 0.75 1'
keyValue = '1 -1 0 0,1 -1 0 1,1 -1 0 1,1 -1 0 1,1 -1 0 0'
/>

<ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfToe"
toField = "set_fraction"
/>
<ROUTE
fromNode = "InterOfToe"
fromField = "value_changed"
toNode = "RLToe"
toField = "set_rotation"
/>

<OrientationInterpolator
DEF = "InterOfToe2"
key = '0 0.25 0.5 0.75 1'
keyValue = '1 -1 0 0,1 -1 0 -1,1 -1 0 -1,1 -1 0 -1,1 -1 0 0'
/>
<ROUTE
fromNode = "TimerOflegs"
fromField = "fraction_changed"
toNode = "InterOfToe2"
toField = "set_fraction"
/>
<ROUTE
fromNode = "InterOfToe2"
fromField = "value_changed"
toNode = "RRToe"
toField = "set_rotation"
/>


    <PositionInterpolator
  DEF = "Interpolator"
  key = '0 0.25 0.5 0.75 1'
  keyValue = '-4 0 0,-2 1 0,0 2 0,2 1 0,4 0 0'
/>
    <ROUTE
  fromNode = "TimerOflegs"
  fromField = "fraction_changed"
  toNode = "Interpolator"
  toField = "set_fraction"
 />
    <ROUTE
   fromNode = "Interpolator"
  fromField = "value_changed"
  toNode = "body"
  toField = "set_translation"
 />

   <ROUTE
  fromNode='StartStop'
  fromField='isActive'
  toNode='TimerOflegs'
  toField='enabled'
/>

    <OrientationInterpolator
  DEF = "Interpolator1"
  key = '0 0.25 0.5 0.75 1'
  keyValue = '0 0 1 0,0 0 1 0,0 0 1 0.6,0 0 1 0,0 0 1 0'
/>
    <ROUTE
  fromNode = "TimerOflegs"
  fromField = "fraction_changed"
  toNode = "Interpolator1"
  toField = "set_fraction"
 />
    <ROUTE
  fromNode = "Interpolator1"
  fromField = "value_changed"
  toNode = "mouse"
  toField = "set_rotation"
 />

    <OrientationInterpolator
  DEF = "Interpolator2"
  key = '0 0.25 0.5 0.75 1'
  keyValue = '0 0 1 -1.575,0 0 1 -0.9,0 0 1 -0.9,0 0 1 -0.9,0 0 1 -1.575'
/>
    <ROUTE
  fromNode = "TimerOflegs"
  fromField = "fraction_changed"
  toNode = "Interpolator2"
  toField = "set_fraction"
 />
    <ROUTE
  fromNode = "Interpolator2"
  fromField = "value_changed"
  toNode = "RArm"
  toField = "set_rotation"
 />

    <OrientationInterpolator
  DEF = "Interpolator3"
  key = '0 0.25 0.5 0.75 1'
  keyValue = '0 0 1 1.575,0 0 1 0.6,0 0 1 0.6,0 0 1 0.6,0 0 1 1.575'
/>
    <ROUTE
  fromNode = "TimerOflegs"
  fromField = "fraction_changed"
  toNode = "Interpolator3"
  toField = "set_fraction"
 />
    <ROUTE
  fromNode = "Interpolator3"
  fromField = "value_changed"
  toNode = "LArm"
  toField = "set_rotation"
 />

    <OrientationInterpolator
  DEF = "Interpolator4"
  key = '0 0.25 0.5 0.75 1'
  keyValue = '0 0 1 0,0 0 1 0.3,0 0 1 0.3,0 0 1 0.3,0 0 1 0'
/>
    <ROUTE
  fromNode = "TimerOflegs"
  fromField = "fraction_changed"
  toNode = "Interpolator4"
  toField = "set_fraction"
 />
    <ROUTE
  fromNode = "Interpolator4"
  fromField = "value_changed"
  toNode = "LToes"
  toField = "set_rotation"
 />
  </Scene>
</X3D>
</body>
</html>
